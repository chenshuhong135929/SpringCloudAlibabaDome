server:
  servlet:
    context-path: /communication
  port: 8081
management:
  endpoints:
    web:
      exposure:
        include: '*'


#消费者将要去访问的微服务名称(注册成功进nacos的微服务提供者)
service-url:
  nacos-user-service: http://communication-provider


# 激活Sentinel对Feign的支持
feign:
  sentinel:
    enabled: true
    spring:
  application:
    name: communication-consumer
  cloud:
    nacos:
      discovery:
        server-addr: 47.112.186.155:8080 #Nacos服务注册中心地址
        username: nacos
        password: test
      config:
        server-addr: 47.112.186.155:8080 #Nacos作为配置中心地址
        username: nacos
        password: test
        file-extension: yaml #指定yaml格式的配置
        group: CSH_GROUP #指定配置文件的组类型
        namespace: 39e5abd4-68cc-453a-8074-021aa0aa9393
    sentinel:
      transport:
        #配置Sentinel dashboard地址( 本地调试开 启本地 Sentinel )
        dashboard: 192.168.2.17:8080
        port: 8719
      eager: true

      datasource:
        ds1:
          nacos:
            server-addr: 47.112.186.155:8080  #将 sentinel的数据持久化到Nacos数据库
            dataId: sentinel-confg
            groupId: CSH_GROUP
            data-type: json
            rule-type: flow
            namespace: 39e5abd4-68cc-453a-8074-021aa0aa9393
#配置向认证服务器认证权限
security:
  oauth2:
    resource:
      user-info-uri: http://192.168.2.17:8083/user/current
      id: communication-auth
      prefer-token-info: false
